<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>InsightLab: NYC Housing Dynamics</title>
    <meta name="description" content="How income, transport, and environment shape rent trends across New York City boroughs." />
    <meta property="og:title" content="InsightLab: NYC Housing Dynamics" />
    <meta property="og:description" content="A rigorous case study exploring how income, transport, and environment shape rent trends across NYC boroughs." />
    <meta property="og:type" content="website" />
    <meta
      property="og:image"
      content="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAwCAYAAAA0P0zOAAAACXBIWXMAAAsSAAALEgHS3X78AAABPklEQVR4nO2WsUoDQRCFv6QsBC0s7AztLCxsbGwtbGwsLIzstBWyM7MxsZGQMLCQkJiY2EjoqYlN3d+GsnfG/GmpzpnZua5+cCSJRCKRSCQSiYTyCisVXfwDlGXsEI48AZOB1p0DvEb06zA3DCofCh8Qa0gqpHnuQ+inODL37zUh6Er2Ii0rpoAiYHCv0jkMCtmEh7gVZ5mY7GUDqkA7V8ETzTi4uExULQBqxPpVKpBEFo4raPAnSkwDh2IkBtOEJfBGFm6gOG0HXpNXghfEFuBSxRQHYUx6XjBqht6CBW5ifM1qEU6tHbFSp+Uw5qHG/LpKwPmLpi9Y/6cZJ1gox3LOd6SVCId3wd6PvJvQdKqkWwfURoU3r0LgzXNTZKpA3bfkdCgN6TvCV+EQgWsxM1lPJJarWoX4wGbA3tIj4BZ9z1hWVZVEnpZve8fECiK7xHnIDVYF7A6iV64AAAAAElFTkSuQmCC"
    />
    <link rel="icon" type="image/svg+xml" href="./assets/logo.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Source+Serif+Pro:wght@400;600&display=swap" rel="stylesheet" />
    <script>
      (function () {
        const originalWarn = console.warn;
        console.warn = function (...args) {
          if (args.length && typeof args[0] === 'string' && args[0].includes('cdn.tailwindcss.com should not be used in production')) {
            return;
          }
          originalWarn.apply(console, args);
        };
      })();
    </script>
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/animations.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js" defer></script>
    <script type="module" src="./js/main.js" defer></script>
  </head>
  <body data-page="index">
    <p class="elevator-pitch">
      Exploring how income, transport, and environment shaped NYC’s rent dynamics — built from scratch by a data-driven backend developer.
    </p>
    <div class="hud" role="status" aria-live="polite">
      <strong>At a glance</strong>
      <span>Year: <strong data-hud-year></strong></span>
      <span>Boroughs: <strong data-hud-boroughs></strong></span>
      <span>Spread: <strong data-hud-spread></strong></span>
      <span>Avg rent: <strong data-hud-avg-rent></strong></span>
      <span class="text-xs text-slate-400">Scrollytelling step <span data-hud-step>1</span>/5</span>
    </div>

    <header class="hero">
      <button class="theme-toggle" data-theme-toggle aria-label="Toggle theme">
        <img src="./assets/icons/theme.svg" alt="Theme" />
      </button>
      <img src="./assets/logo.svg" alt="InsightLab logo" style="width: 160px" />
      <h1>InsightLab: NYC Housing Dynamics</h1>
      <p>
        How income, transport, and environment shape rent trends. Dive into a fourteen-year view of New York City’s borough markets,
        rendered with analyst-grade methods and developer precision.
      </p>
      <p class="tagline">InsightLab is a full-stack, data-driven storytelling platform built to explore NYC housing over 14 years — showcasing end-to-end data engineering, statistical modeling, and interactive visualization.</p>
      <div class="hero-actions">
        <a class="btn-primary" href="./study.html">Explore the Study</a>
        <a class="btn-secondary" href="#story" aria-describedby="hero-cta-desc">See the headline findings</a>
        <span id="hero-cta-desc" class="visually-hidden">Scroll to the story section to view key charts and insights.</span>
      </div>
    </header>

    <main id="story">
      <section class="tech-bubble" aria-labelledby="tech-data-title">
        <h2 id="tech-data-title">Tech &amp; Data Stack</h2>
        <p class="text-block">
          Built with a PHP ETL backend, PostgreSQL + GeoJSON spatial layers, and D3.js with vanilla JavaScript on the front-end. All content ships statically here via CDN modules while mirroring the production pipeline.
        </p>
        <div class="tech-grid" role="list">
          <div class="tech-card" role="listitem">
            <h3>Engineering</h3>
            <p>Custom PHP ingestion services land borough-level extracts into PostgreSQL, where GeoJSON geometry enables spatial joins.</p>
          </div>
          <div class="tech-card" role="listitem">
            <h3>Visualization</h3>
            <p>D3.js patterns inspire the interactions, while this static build leans on Chart.js and bespoke canvas heatmaps for offline parity.</p>
          </div>
          <div class="tech-card" role="listitem">
            <h3>Sources</h3>
            <p>NYC Open Data feeds for rent and environment, paired with ACS API income benchmarks to align affordability context.</p>
          </div>
        </div>
      </section>

      <section aria-labelledby="filters-title">
        <h2 id="filters-title">Dial in the view</h2>
        <p class="text-block">
          Use the controls to focus on the years, boroughs, and metrics that matter for your decision. All visuals and narratives update instantly, so the story follows your context.
        </p>
        <div class="filters" role="region" aria-label="Interactive filters">
          <div class="filter-group">
            <label for="filter-year">Year: <span data-year-label></span></label>
            <input id="filter-year" type="range" step="1" aria-valuemin="2010" aria-valuemax="2024" aria-valuenow="2024" />
          </div>
          <div class="filter-group">
            <label for="filter-borough">Boroughs</label>
            <select id="filter-borough" multiple size="5" aria-label="Select boroughs"></select>
          </div>
          <div class="filter-group">
            <label>Heatmap metric</label>
            <div role="radiogroup" aria-label="Heatmap metric">
              <label class="inline-flex items-center gap-2">
                <input type="radio" name="metric" value="median_rent" checked />
                <span>Median rent</span>
              </label>
              <label class="inline-flex items-center gap-2 mt-2">
                <input type="radio" name="metric" value="rent_growth" />
                <span>YoY rent %</span>
              </label>
            </div>
          </div>
          <div class="filter-group">
            <label for="filter-reset">Reset view</label>
            <button id="filter-reset" class="reset-button">
              <img src="./assets/icons/reset.svg" alt="Reset icon" width="18" height="18" />
              Reset filters
            </button>
          </div>
        </div>
      </section>

      <section class="scrolly-container" aria-label="Rent story">
        <div class="scrolly-sticky" aria-hidden="true">
          <article class="chart-card" aria-label="Median rent per borough">
            <h4>Median rent leaderboard</h4>
            <p class="chart-summary" data-dynamic-narrative></p>
            <canvas id="chart-bar" aria-label="Bar chart of median rent by borough"></canvas>
            <div class="key-takeaway" data-takeaway="bar">Loading rent takeaway…</div>
          </article>
        </div>
        <div class="scrolly-steps">
          <article class="step" tabindex="0">
            <h3>2010 baseline</h3>
            <p>
              Rents start from a wide spread: Manhattan clears $2,200 while the Bronx holds near $1,000. It sets the stage for divergent growth paths.
            </p>
          </article>
          <article class="step" tabindex="0">
            <h3>Brooklyn’s surge</h3>
            <p>
              North Brooklyn’s revitalisation accelerates after 2012, pushing borough median rent growth past 60% by 2024.
            </p>
          </article>
          <article class="step" tabindex="0">
            <h3>Pandemic reset</h3>
            <p>
              2020 introduces the only cross-borough rent pullback. Recovery is swift, especially in high-income corridors.
            </p>
          </article>
          <article class="step" tabindex="0">
            <h3>Income meets access</h3>
            <p>
              Areas combining high household income and transit connectivity sustain the highest rent levels.
            </p>
          </article>
          <article class="step" tabindex="0">
            <h3>Environment premium</h3>
            <p>
              Cleaner-air zones in outer borough waterfronts now command discernible rent premiums.
            </p>
          </article>
        </div>
      </section>

      <section aria-labelledby="trend-title">
        <div class="chart-card">
          <h4 id="trend-title">Rent trajectories 2010–2024</h4>
          <p class="chart-summary">
            From 2010 to 2024, the median rent grew 32%, outpacing income by 11% citywide. Toggle boroughs to isolate the slope driving that divergence.
          </p>
          <canvas id="chart-line"></canvas>
          <div class="key-takeaway" data-takeaway="line">Loading trajectory takeaway…</div>
        </div>
      </section>

      <section aria-labelledby="scatter-title">
        <div class="chart-card">
          <h4 id="scatter-title">Income vs rent positioning</h4>
          <p class="chart-summary">
            Bubble size represents subway access. Hover to see borough-year combinations and how transit and environment link to rent levels.
          </p>
          <canvas id="chart-scatter"></canvas>
          <div class="key-takeaway" data-takeaway="scatter">Loading correlation takeaway…</div>
        </div>
      </section>

      <section aria-labelledby="heatmap-title">
        <div class="chart-card">
          <h4 id="heatmap-title">Heatmap: rent and growth pulses</h4>
          <p class="chart-summary">
            Switch between median rent and year-over-year change to see when each borough accelerates or pauses.
          </p>
          <canvas id="chart-heatmap" width="900" height="420" class="heatmap" role="img" aria-label="Heatmap of rent dynamics"></canvas>
          <div class="key-takeaway" data-takeaway="heatmap">Loading heatmap takeaway…</div>
        </div>
      </section>

      <section aria-labelledby="derived-title" class="derived-insights">
        <h2 id="derived-title">Derived Insights</h2>
        <p data-derived="transit">Loading transit insight…</p>
        <p data-derived="regression">Loading regression insight…</p>
        <p class="text-xs text-slate-400">Caveat: Model outputs reference replicated medians; localized submarkets may diverge.</p>
      </section>
    </main>

    <footer>
      <p>Crafted by Jordan Chen — <a href="https://github.com/jordanchen" target="_blank" rel="noopener">GitHub</a> · <a href="https://www.linkedin.com/in/jordanchenanalytics/" target="_blank" rel="noopener">LinkedIn</a></p>
      <p>InsightLab is a full-stack, data-driven storytelling platform built to explore NYC housing over 14 years — showcasing end-to-end data engineering, statistical modeling, and interactive visualization.</p>
      <p>Data replicated from NYC Open Data &amp; ACS; see README for citations. Hero treatment uses CSS gradients for offline performance.</p>
    </footer>
  </body>
</html>
